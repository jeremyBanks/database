# x/database/sql for Deno, Version 0.2

**Date:** March _dd_, 2021

**Status:** incomplete and blocked by [./v0.1](./v0.1.md) and
[#3](https://github.com/jeremyBanks/database/pull/3).

## Goals

Safe and convenient dynamic query composition with <code>SQL\`â€¦\`</code>
strings.

## SQL Strings (`x/database/sql/string.ts`)

New!

## Database Driver API (`x/database/sql/driver.ts`)

- `driver.Query<Value>` interface
  - `.sql: readonly string`
  - `.args?: readonly Array<Value>`
  - This is a new interface for types that can provide the SQL string and
    optional bound values when executing a query with a driver. The associated
    `Value` type (which will typically be inferred) must be compatible with the
    `Value` type expected by the driver.
  - `./strings.ts` provides the only included implementation, but others are
    supported.

## Database Consumer API (`x/database/sql/sql.ts`)

- `sql.Transaction` class
  - `.query[Sync](query: driver.Query)`
  - `.row[Sync](query: driver.Query)`
  - `.exec[Sync](query: driver.Query)`
  - These method all gain an alternate argument overload to accept the query and
    bound values as a single `driver.Query` argument.
